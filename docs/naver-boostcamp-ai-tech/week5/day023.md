# day 23

## 그래프의 구조를 어떻게 분석할까?

### 군집의 정의
> 군집(Community)이란 다음 조건들을 만족하는 정점들의 집합
- (1) 집합에 속하는 정점 사이에는 많은 간선이 존재합니다
- (2) 집합에 속하는 정점과 그렇지 않은 정점 사이에는 적은 수의 간선이 존재합니다

### 실제 그래프에서의 군집들
> 온라인 소셜 네트워크의 군집들은 사회적 무리(Social Circle)을 의미하는 경우가 많습니다
- Ex) 페북에서 가족, 과학생

> 온라인 소셜 네트워크의 군집들이 부정 행위와 관련된 경우도 많습니다
- ex) 팔로워 늘리는 사기 계

> 조직 내의 분란이 소셜 네트워크 상의 군집으로 표현된 경우도 있습니다
- ex) 내분으로 동아리가 둘로 나뉘어져 두 개의 군집 형성

> 뉴런간 연결 그래프에서는 군집들이 뇌의 기능적 구성 단위를 의미

### 군집 탐색 문제
> 그래프를 여러 군집으로 ‘잘’ 나누는 문제를 군집 탐색(Community Detection) 문제라고 합니다
- 잘이 무엇인지 정의가 필요함(비교를 통해)

### 비교 대상: 배치 모형
> 성공적인 군집 탐색을 정의하기 위해 먼저 배치 모형(Configuration Model)을 소개합니다
1) 각 정점의 연결성(Degree)을 보존한 상태에서
2) 간선들을 무작위로 재배치하여서 얻은 그래프를 의미

### 군집성의 정의
- 배치 모형이 무작위값을 포함하기 때문에 기댓값을 사용
- 차이가 클수록 좋은 것, 내부 간선이 많다는 것
- 정규화 과정을 거쳐서 군집성이 -1과 1사이의 값을 갖도록 함


### 군집 탐색 알고리즘(Girvan-Newman)
- Girvan-Newman: 하향식 
    - 군집 간 bridge 제거
- 다리 역할 간선 찾는법
    - 간선의 매개 중심성 (Betweenness Centrality)
- 방법
    - 매개 중심성이 높은 간선을 순차적으로 제거
    - 간선이 제거될 떄마다, 매개 중심성을 다시 계산
    - 간선이 제거 될 때 까지 반복
- 간선의 제거 정도에 따라서 다른 입도의 군집 구조가 나타남
- 간선 어느 정도 제거?
    - 군집성이 최대가 되는 지점까지
    - 입력그래프가 6개의 연결요소라 나뉘어져 있다면 6개의 군집이 있다고 가정하고 계산

### Louvain 알고리즘
> Louvain 알고리즘은 대표적인 상향식(Bottom-Up) 군집 탐색 알고리즘입니다
- Louvain 알고리즘은 개별 정점에서 시작해서 점점 큰 군집을 형성합니다
    - 각 정점이 군집을 생성한다고 가정하고 시작
- 합치는 기준? - 군집성
 
### 중첩이 있는 군집 구조
- 앞의 알고리즘들은 군집간의 중첩이 없다고 가정했음
 
## 그래프를 추천시스템에 어떻게 활용할까? (기본)
> 추천 시스템은 사용자 각각이 구매할 만한 혹은 선호할 만한 상품/영화/영상을 추천합니다

### 내용 기반 추천시스템
> 내용 기반(Content-based) 추천은 각 사용자가 구매/만족했던 상품과 유사한 것을 추천하는 방법
1. 선호: 상품 프로필을 수집하는 단계 (원-핫 인코딩으로 표현)
2. 구성: 사용자 프로필 구성 (가중 평균 벡터)
3. 매칭: 사용자 프로필과 다른 상품들의 상품 프로필을 매칭 (사용자 프로필 벡터와 상품 프로필 벡터의 코사인 유사도를 계산)
4. 추천: 사용자에게 상품을 추천하는 단계 (계산한 코사인 유사도가 높은 상품들을 추천)
- 단점
    - (1) 상품에 대한 부가 정보가 없는 경우에는 사용할 수 없습니다
    - (2) 구매 기록이 없는 사용자에게는 사용할 수 없습니다
    - (3) 과적합(Overfitting)으로 지나치게 협소한 추천을 할 위험이 있습니다

### 협업 필터링 추천시스템
- 추천의 대상 사용자를 𝑥라고 합시다
1. 우선 𝑥 와 유사한 취향의 사용자들을 찾습니다
2. 다음 단계로 유사한 취향의 사용자들이 선호한 상품을 찾습니다
3. 마지막으로 이 상품들을 𝑥 에게 추천합니다

> 상관 계수(correlation coefficient)를 통해 추천
- x와 y가 영화 x에 대하여 둘 다 평균평점보다 높은 값을 매긴다면 양의 상관관계
- x는 높게 y는 낮게는 음의 값 발생

### 추천 시스템의 평가
- 데이터 분리

## 피어세션
